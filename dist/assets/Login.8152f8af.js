import{T as S,_ as L}from"./TextField.1ec4cebe.js";import{g as N,ab as U,ac as A,B as O,C as F,m as G,Q as W,R as z,ae as E,af as M,p as j,ad as D,J as H,N as v,W as y,ak as T,b as J,d as t,ah as Q,V as $,r as w,X as q,ai as X,c as Y,bO as Z,bP as P,bF as K,as as ee,au as ae,aj as oe,Z as te,_ as i,aq as se,bQ as V,Y as ne,a4 as C,$ as f,aD as le,a9 as re,a3 as ie,bR as ce,bS as ue,bT as de,bU as me,bV as ve,a2 as R,a7 as pe}from"./index.a11c7563.js";import{V as fe}from"./VContainer.c32c7f03.js";import{V as ge}from"./VForm.5753d9f9.js";import{m as _e,u as be,a as h}from"./VOverlay.36fd8907.js";import{f as ke}from"./forwardRefs.2d67e586.js";import"./VTextField.84878233.js";import"./easing.6e2d7abd.js";const Ve=N()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...U({location:"bottom"}),...A(),...O(),...F(),...G(),...W(_e({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":a=>!0},setup(a,g){let{slots:l}=g;const s=z(a,"modelValue"),{locationStyles:c}=E(a),{positionClasses:_}=M(a),{scopeId:u}=be(),{themeClasses:p}=j(a),{colorClasses:d,colorStyles:b,variantClasses:k}=D(a),{roundedClasses:n}=H(a),o=v();y(s,e),y(()=>a.timeout,e),T(()=>{s.value&&e()});let r=-1;function e(){window.clearTimeout(r);const m=Number(a.timeout);!s.value||m===-1||(r=window.setTimeout(()=>{s.value=!1},m))}function x(){window.clearTimeout(r)}return J(()=>{const[m]=h.filterProps(a);return t(h,w({ref:o,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":a.multiLine&&!a.vertical,"v-snackbar--vertical":a.vertical},_.value]},m,{modelValue:s.value,"onUpdate:modelValue":B=>s.value=B,contentProps:w({class:["v-snackbar__wrapper",p.value,d.value,n.value,k.value],style:[c.value,b.value],onPointerenter:x,onPointerleave:e},m.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},u),{default:()=>[Q(!1,"v-snackbar"),l.default&&t("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[l.default()]),l.actions&&t($,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[t("div",{class:"v-snackbar__actions"},[l.actions()])]})],activator:l.activator})}),ke({},o)}}),I=a=>(me("data-v-dec9b644"),a=a(),ve(),a),he=I(()=>R("h3",{class:"form-head mb-3"},"Sign in",-1)),Se=I(()=>R("span",{class:"my-2"},"or",-1)),ye=q({__name:"Login",setup(a){const g=X(),l=se(),s=v(""),c=v(""),_=v(localStorage.loading),u=v(!1),p=Y(()=>_.value=="true"),d=()=>{setTimeout(()=>{p.value&&(localStorage.loading=!1,u.value=!0)},1e4)},b=async()=>{localStorage.loading="true";const n=new P;ce(V,n)};T(async()=>{const n=await Z(V);try{if(n){console.log(n),localStorage.loading=!1;const o=P.credentialFromResult(n),r=o==null?void 0:o.accessToken,e=n.user;K(ee(ae,"users",e.uid),{name:e.displayName,email:e.email,photo:e.photoURL}),localStorage.currentUser=JSON.stringify({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL,accessToken:r}),l.push({name:"Home"})}else console.log("Error: Something went wrong."),d()}catch(o){alert(o),d()}d()});const k=()=>{ue(V,s.value,c.value).then(()=>{l.push({name:"Home"})})};return oe(()=>{g.hideNavBar(!0),localStorage.loading||(localStorage.loading=!1)}),(n,o)=>{const r=de("router-link");return ne(),te(fe,{class:"container"},{default:i(()=>[t(ge,{class:"form"},{default:i(()=>[he,t(S,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),inputType:"email"},null,8,["modelValue"]),t(S,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),inputType:"password"},null,8,["modelValue"]),t(C,{size:"large",variant:"flat",color:"primary",block:"",onClick:k},{default:i(()=>[f(" Sign in ")]),_:1}),Se,t(C,{size:"large",variant:"outlined",block:"",onClick:b},{default:i(()=>[t(le,{src:L,width:"23",height:"23",class:"mr-3"}),f(" Sign in with Google ")]),_:1}),t(r,{class:"mt-3 text-decoration-none",to:"/signup"},{default:i(()=>[f("Create account")]),_:1})]),_:1}),t(h,{"model-value":ie(p),class:"align-center justify-center","close-on-content-click":!1,persistent:!0,scrim:"#fff"},{default:i(()=>[t(re,{size:"70",width:"5",color:"primary",indeterminate:""})]),_:1},8,["model-value"]),t(Ve,{modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=e=>u.value=e),color:"red-darken-1"},{default:i(()=>[f("Something went wrong")]),_:1},8,["modelValue"])]),_:1})}}});const Le=pe(ye,[["__scopeId","data-v-dec9b644"]]);export{Le as default};

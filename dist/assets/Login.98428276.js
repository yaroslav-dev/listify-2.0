import{u as k,a as x,T as m,_ as C}from"./persist.bcb5c358.js";import{Y as I,aj as N,N as i,b as U,al as B,bw as L,bn as R,au as P,aw as T,ak as z,_ as A,$ as s,as as G,bx as c,Z as W,c as a,a5 as p,a0 as d,aE as j,aa as E,a4 as F,by as H,bz as M,bA as O,bB as D,bC as J,bD as Y,a3 as g,a8 as Z}from"./index.17ab0dd5.js";import{V as $}from"./VContainer.cb9bb9ad.js";import{V as q}from"./VForm.2afe2482.js";import{a as K}from"./VOverlay.ea731dea.js";import"./VTextField.1c49554e.js";import"./easing.6e2d7abd.js";import"./form.3208942f.js";import"./forwardRefs.2d67e586.js";const _=t=>(J("data-v-214a0779"),t=t(),Y(),t),Q=_(()=>g("h3",{class:"form-head mb-3"},"Sign in",-1)),X=_(()=>g("span",{class:"my-2"},"or",-1)),ee=I({__name:"Login",setup(t){const f=N(),h=k(),v=x(),u=G(),n=i(""),r=i(""),V=i(localStorage.loading),S=U(()=>V.value=="true"),y=async()=>{localStorage.loading="true";const o=new H;M(c,o)};B(()=>{L(c).then(o=>{localStorage.loading=!1;const e=o==null?void 0:o.user;R(P(T,"users",e.uid),{name:e.displayName,email:e.email,photo:e.photoURL}),h.setUser({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),localStorage.currentUser=JSON.stringify({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),v.setPersist(e)}).then(()=>{u.push({name:"Home"})}).catch(o=>{console.log(o.message)})});const b=()=>{O(c,n.value,r.value).then(()=>{u.push({name:"Home"})})};return z(()=>{f.hideNavBar(!0),localStorage.loading||(localStorage.loading=!1)}),(o,e)=>{const w=D("router-link");return W(),A($,{class:"container"},{default:s(()=>[a(q,{class:"form"},{default:s(()=>[Q,a(m,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),inputType:"email"},null,8,["modelValue"]),a(m,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),inputType:"password"},null,8,["modelValue"]),a(p,{size:"large",variant:"flat",color:"primary",block:"",onClick:b},{default:s(()=>[d(" Sign in ")]),_:1}),X,a(p,{size:"large",variant:"outlined",block:"",onClick:y},{default:s(()=>[a(j,{src:C,width:"23",height:"23",class:"mr-3"}),d(" Sign in with Google ")]),_:1}),a(w,{class:"mt-3 text-decoration-none",to:"/signup"},{default:s(()=>[d("Create account")]),_:1})]),_:1}),a(K,{"model-value":F(S),class:"align-center justify-center"},{default:s(()=>[a(E,{size:"70",width:"5",color:"primary",indeterminate:""})]),_:1},8,["model-value"])]),_:1})}}});const de=Z(ee,[["__scopeId","data-v-214a0779"]]);export{de as default};

import{u as I,a as A,T as f,_ as N}from"./persist.a435d93f.js";import{aq as R,aN as T,bb as U,bw as u,N as h,aa as F,aO as P,as as z,at as a,ar as D,c as o,az as v,au as d,b3 as G,aU as L,bC as W,bx as q,bz as E,bA as H,bB as M,ax as S,aC as j}from"./index.b30e204b.js";import{V as O}from"./VContainer.fa590c6c.js";import{V as J}from"./VForm.09aeeb08.js";import"./VTextField.78425b11.js";import"./easing.6e2d7abd.js";import"./form.9c6fea0e.js";import"./forwardRefs.2d67e586.js";const V=t=>(H("data-v-17bb1a7c"),t=t(),M(),t),K=V(()=>S("h3",{class:"form-head mb-3"},"Sign up",-1)),Q=V(()=>S("span",{class:"my-2"},"or",-1)),X=R({__name:"Register",setup(t){const x=T(),p=U(),w=new u,m=L(),k=I(),B=A(),n=h(""),r=h(""),C=()=>{W(p,n.value,r.value).then(e=>{console.log("Successfully registered"),console.log("data: ",e),m.push({name:"Home"})}).catch(e=>{console.warn(e.code),alert(e.message)})};let _,g,l,b;F(()=>{const e=indexedDB.open("firebaseLocalStorageDb");e.onsuccess=()=>{_=e.result,g=_.transaction("firebaseLocalStorage"),l=g.objectStore("firebaseLocalStorage").getAll(),l.onsuccess=()=>{b=l.result.find(s=>s.value!=="1")}}});const y=()=>{q(p,w).then(e=>{const s=u.credentialFromResult(e);s==null||s.accessToken;const c=e.user;k.setUser(c),B.setPersist(b),m.push({name:"Home"})}).then(()=>{}).catch(e=>{e.code,e.message,e.customData.email,u.credentialFromError(e)})};return P(()=>{x.hideNavBar(!0)}),(e,s)=>{const c=E("router-link");return D(),z(O,{class:"container"},{default:a(()=>[o(J,{class:"form"},{default:a(()=>[K,o(f,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=i=>n.value=i),inputType:"email"},null,8,["modelValue"]),o(f,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value=i),inputType:"password"},null,8,["modelValue"]),o(v,{size:"large",variant:"flat",color:"primary",block:"",onClick:C},{default:a(()=>[d(" Sign up ")]),_:1}),Q,o(v,{size:"large",variant:"outlined",block:"",onClick:y},{default:a(()=>[o(G,{src:N,width:"23",height:"23",class:"mr-3"}),d(" Sign in with Google ")]),_:1}),o(c,{class:"mt-3 text-decoration-none",to:"/login"},{default:a(()=>[d("Sign in")]),_:1})]),_:1})]),_:1})}}});const ne=j(X,[["__scopeId","data-v-17bb1a7c"]]);export{ne as default};

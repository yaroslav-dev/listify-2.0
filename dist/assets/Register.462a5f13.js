import{u as I,a as F,T as f,_ as N}from"./persist.cdaadb22.js";import{aq as R,aN as T,bb as U,bx as u,N as h,aa as A,aO as P,as as D,at as a,ar as z,c as o,az as v,au as d,b3 as E,aU as G,bE as L,bF as W,bB as q,bC as H,bD as M,ax as S,aC as j}from"./index.863f8280.js";import{V as O}from"./VContainer.a55ccc89.js";import{V as J}from"./VForm.1dc21280.js";import"./VTextField.2c0f9798.js";import"./easing.6e2d7abd.js";import"./form.97b37081.js";import"./forwardRefs.2d67e586.js";const V=t=>(H("data-v-17bb1a7c"),t=t(),M(),t),K=V(()=>S("h3",{class:"form-head mb-3"},"Sign up",-1)),Q=V(()=>S("span",{class:"my-2"},"or",-1)),X=R({__name:"Register",setup(t){const x=T(),p=U(),k=new u,m=G(),w=I(),B=F(),n=h(""),r=h(""),C=()=>{L(p,n.value,r.value).then(e=>{console.log("Successfully registered"),console.log("data: ",e),m.push({name:"Home"})}).catch(e=>{console.warn(e.code),alert(e.message)})};let _,g,l,b;A(()=>{const e=indexedDB.open("firebaseLocalStorageDb");e.onsuccess=()=>{_=e.result,g=_.transaction("firebaseLocalStorage"),l=g.objectStore("firebaseLocalStorage").getAll(),l.onsuccess=()=>{b=l.result.find(s=>s.value!=="1")}}});const y=()=>{W(p,k).then(e=>{const s=u.credentialFromResult(e);s==null||s.accessToken;const c=e.user;w.setUser(c),B.setPersist(b),m.push({name:"Home"})}).then(()=>{}).catch(e=>{e.code,e.message,e.customData.email,u.credentialFromError(e)})};return P(()=>{x.hideNavBar(!0)}),(e,s)=>{const c=q("router-link");return z(),D(O,{class:"container"},{default:a(()=>[o(J,{class:"form"},{default:a(()=>[K,o(f,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=i=>n.value=i),inputType:"email"},null,8,["modelValue"]),o(f,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value=i),inputType:"password"},null,8,["modelValue"]),o(v,{size:"large",variant:"flat",color:"primary",block:"",onClick:C},{default:a(()=>[d(" Sign up ")]),_:1}),Q,o(v,{size:"large",variant:"outlined",block:"",onClick:y},{default:a(()=>[o(E,{src:N,width:"23",height:"23",class:"mr-3"}),d(" Sign in with Google ")]),_:1}),o(c,{class:"mt-3 text-decoration-none",to:"/login"},{default:a(()=>[d("Sign in")]),_:1})]),_:1})]),_:1})}}});const ne=j(X,[["__scopeId","data-v-17bb1a7c"]]);export{ne as default};

import{u as w,a as x,T as d,_ as k}from"./persist.a435d93f.js";import{aq as I,aN as U,b8 as C,bw as c,N as _,aO as B,as as A,at as t,ar as L,c as s,az as h,au as u,b3 as T,aU as P,bx as R,bn as z,aW as F,aY as W,by as G,bz as O,bA as E,bB as H,ax as g,aC as J}from"./index.b30e204b.js";import{V as q}from"./VContainer.fa590c6c.js";import{V as M}from"./VForm.09aeeb08.js";import"./VTextField.78425b11.js";import"./easing.6e2d7abd.js";import"./form.9c6fea0e.js";import"./forwardRefs.2d67e586.js";const f=n=>(E("data-v-3127b0c5"),n=n(),H(),n),Y=f(()=>g("h3",{class:"form-head mb-3"},"Sign in",-1)),j=f(()=>g("span",{class:"my-2"},"or",-1)),D=I({__name:"Login",setup(n){const b=U(),v=w(),V=x(),m=C(),S=new c,p=P(),i=_(""),r=_(""),y=async()=>{R(m,S).then(o=>{const a=c.credentialFromResult(o);a==null||a.accessToken;const e=o.user;z(F(W,"users",e.uid),{name:e.displayName,email:e.email,photo:e.photoURL}),v.setUser({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),localStorage.currentUser=JSON.stringify({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),V.setPersist(e),localStorage.userAuth=JSON.stringify(e),p.push({name:"Home"})}).catch(o=>{o.code,o.message,c.credentialFromError(o)})},N=()=>{G(m,i.value,r.value).then(o=>{console.log("Signed in with email"),console.log("data: ",o),p.push({name:"Home"})})};return B(()=>{b.hideNavBar(!0)}),(o,a)=>{const e=O("router-link");return L(),A(q,{class:"container"},{default:t(()=>[s(M,{class:"form"},{default:t(()=>[Y,s(d,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),inputType:"email"},null,8,["modelValue"]),s(d,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=l=>r.value=l),inputType:"password"},null,8,["modelValue"]),s(h,{size:"large",variant:"flat",color:"primary",block:"",onClick:N},{default:t(()=>[u(" Sign in ")]),_:1}),j,s(h,{size:"large",variant:"outlined",block:"",onClick:y},{default:t(()=>[s(T,{src:k,width:"23",height:"23",class:"mr-3"}),u(" Sign in with Google ")]),_:1}),s(e,{class:"mt-3 text-decoration-none",to:"/signup"},{default:t(()=>[u("Create account")]),_:1})]),_:1})]),_:1})}}});const se=J(D,[["__scopeId","data-v-3127b0c5"]]);export{se as default};

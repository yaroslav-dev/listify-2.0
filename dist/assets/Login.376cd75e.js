import{u as N,a as x,T as p,_ as C}from"./persist.bc3fa1ae.js";import{Y as I,aj as R,N as d,b as U,al as B,bw as L,bx as g,bn as T,au as A,aw as P,ak as z,_ as F,$ as t,as as G,by as u,Z as O,c as a,a5 as _,a0 as c,aE as W,aa as j,a4 as E,bz as H,bA as J,bB as M,bC as D,bD as Y,a3 as f,a8 as Z}from"./index.f308811b.js";import{V as $}from"./VContainer.6e1f9727.js";import{V as q}from"./VForm.818f64d6.js";import{a as K}from"./VOverlay.6a98be85.js";import"./VTextField.e624b01f.js";import"./easing.6e2d7abd.js";import"./form.de733d38.js";import"./forwardRefs.2d67e586.js";const h=n=>(D("data-v-9610dda0"),n=n(),Y(),n),Q=h(()=>f("h3",{class:"form-head mb-3"},"Sign in",-1)),X=h(()=>f("span",{class:"my-2"},"or",-1)),ee=I({__name:"Login",setup(n){const v=R(),S=N(),V=x(),m=G(),r=d(""),l=d(""),y=d(localStorage.loading),b=U(()=>y.value=="true"),k=async()=>{localStorage.loading="true";const s=new g;H(u,s)};B(()=>{localStorage.loading=!1,L(u).then(s=>{const o=g.credentialFromResult(s),i=o==null?void 0:o.accessToken,e=s.user;T(A(P,"users",e.uid),{name:e.displayName,email:e.email,photo:e.photoURL}),S.setUser({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL,token:i}),localStorage.currentUser=JSON.stringify({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),V.setPersist({...e}),localStorage.userAuth=JSON.stringify(e)}).then(()=>{m.push({name:"Home"})}).catch(s=>{console.log(s.message)})});const w=()=>{J(u,r.value,l.value).then(()=>{m.push({name:"Home"})})};return z(()=>{v.hideNavBar(!0),localStorage.loading||(localStorage.loading=!1)}),(s,o)=>{const i=M("router-link");return O(),F($,{class:"container"},{default:t(()=>[a(q,{class:"form"},{default:t(()=>[Q,a(p,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),inputType:"email"},null,8,["modelValue"]),a(p,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),inputType:"password"},null,8,["modelValue"]),a(_,{size:"large",variant:"flat",color:"primary",block:"",onClick:w},{default:t(()=>[c(" Sign in ")]),_:1}),X,a(_,{size:"large",variant:"outlined",block:"",onClick:k},{default:t(()=>[a(W,{src:C,width:"23",height:"23",class:"mr-3"}),c(" Sign in with Google ")]),_:1}),a(i,{class:"mt-3 text-decoration-none",to:"/signup"},{default:t(()=>[c("Create account")]),_:1})]),_:1}),a(K,{"model-value":E(b),class:"align-center justify-center"},{default:t(()=>[a(j,{size:"70",width:"5",color:"primary",indeterminate:""})]),_:1},8,["model-value"])]),_:1})}}});const ue=Z(ee,[["__scopeId","data-v-9610dda0"]]);export{ue as default};

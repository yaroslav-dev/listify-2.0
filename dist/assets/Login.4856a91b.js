import{u as N,a as w,T as d,_ as x}from"./persist.7640ee5b.js";import{aq as k,aN as C,N as p,bw as I,bx as g,bn as U,aW as R,aY as B,aO as L,as as T,at as t,aU as A,by as c,ar as z,c as a,az as _,au as u,b3 as P,bz as W,bA as F,bB as G,bC as O,bD as H,ax as h,aC as J}from"./index.9bae4065.js";import{V as q}from"./VContainer.3241f241.js";import{V as D}from"./VForm.b70bf979.js";import"./VTextField.65be7d43.js";import"./easing.6e2d7abd.js";import"./form.f3de3bcc.js";import"./forwardRefs.2d67e586.js";const f=n=>(O("data-v-31bb7796"),n=n(),H(),n),E=f(()=>h("h3",{class:"form-head mb-3"},"Sign in",-1)),M=f(()=>h("span",{class:"my-2"},"or",-1)),Y=k({__name:"Login",setup(n){const b=C(),v=N(),V=w(),m=A(),l=p(""),r=p(""),S=async()=>{const o=new g;W(c,o)};I(c).then(o=>{console.log("result start");const s=g.credentialFromResult(o);s==null||s.accessToken;const e=o.user;U(R(B,"users",e.uid),{name:e.displayName,email:e.email,photo:e.photoURL}),console.log("set doc"),v.setUser({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),console.log("set user"),localStorage.currentUser=JSON.stringify({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),console.log("set localstorage"),V.setPersist(e),console.log("persist"),localStorage.userAuth=JSON.stringify(e)}).then(()=>{m.push({name:"Home"})}).catch(o=>{console.log(o.message)});const y=()=>{F(c,l.value,r.value).then(o=>{console.log("Signed in with email"),console.log("data: ",o),m.push({name:"Home"})})};return L(()=>{b.hideNavBar(!0)}),(o,s)=>{const e=G("router-link");return z(),T(q,{class:"container"},{default:t(()=>[a(D,{class:"form"},{default:t(()=>[E,a(d,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i),inputType:"email"},null,8,["modelValue"]),a(d,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value=i),inputType:"password"},null,8,["modelValue"]),a(_,{size:"large",variant:"flat",color:"primary",block:"",onClick:y},{default:t(()=>[u(" Sign in ")]),_:1}),M,a(_,{size:"large",variant:"outlined",block:"",onClick:S},{default:t(()=>[a(P,{src:x,width:"23",height:"23",class:"mr-3"}),u(" Sign in with Google ")]),_:1}),a(e,{class:"mt-3 text-decoration-none",to:"/signup"},{default:t(()=>[u("Create account")]),_:1})]),_:1})]),_:1})}}});const se=J(Y,[["__scopeId","data-v-31bb7796"]]);export{se as default};

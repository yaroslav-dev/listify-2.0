import{u as I,T as f,_ as N}from"./user.5af24fd7.js";import{aq as R,aN as T,bb as U,bc as u,bd as A,N as h,aa as F,aO as P,as as z,at as t,ar as D,c as o,az as v,au as d,b3 as G,aU as L,bx as W,bf as j,bi as q,bj as E,bk as H,ax as S,aC as M}from"./index.fc830b2a.js";import{V as O}from"./VContainer.bd62cc27.js";import{V as J}from"./VForm.c00b9209.js";import"./VTextField.7115e2af.js";import"./easing.6e2d7abd.js";import"./form.2c6b9055.js";import"./forwardRefs.2d67e586.js";const V=a=>(E("data-v-17bb1a7c"),a=a(),H(),a),K=V(()=>S("h3",{class:"form-head mb-3"},"Sign up",-1)),Q=V(()=>S("span",{class:"my-2"},"or",-1)),X=R({__name:"Register",setup(a){const x=T(),p=U(),k=new u,m=L(),w=I(),y=A(),n=h(""),r=h(""),B=()=>{W(p,n.value,r.value).then(e=>{console.log("Successfully registered"),console.log("data: ",e),m.push({name:"Home"})}).catch(e=>{console.warn(e.code),alert(e.message)})};let _,g,l,b;F(()=>{const e=indexedDB.open("firebaseLocalStorageDb");e.onsuccess=()=>{_=e.result,g=_.transaction("firebaseLocalStorage"),l=g.objectStore("firebaseLocalStorage").getAll(),l.onsuccess=()=>{b=l.result.find(s=>s.value!=="1")}}});const C=()=>{j(p,k).then(e=>{const s=u.credentialFromResult(e);s==null||s.accessToken;const c=e.user;w.setUser(c),y.setPersist(b),m.push({name:"Home"})}).then(()=>{}).catch(e=>{e.code,e.message,e.customData.email,u.credentialFromError(e)})};return P(()=>{x.hideNavBar(!0)}),(e,s)=>{const c=q("router-link");return D(),z(O,{class:"container"},{default:t(()=>[o(J,{class:"form"},{default:t(()=>[K,o(f,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=i=>n.value=i),inputType:"email"},null,8,["modelValue"]),o(f,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value=i),inputType:"password"},null,8,["modelValue"]),o(v,{size:"large",variant:"flat",color:"primary",block:"",onClick:B},{default:t(()=>[d(" Sign up ")]),_:1}),Q,o(v,{size:"large",variant:"outlined",block:"",onClick:C},{default:t(()=>[o(G,{src:N,width:"23",height:"23",class:"mr-3"}),d(" Sign in with Google ")]),_:1}),o(c,{class:"mt-3 text-decoration-none",to:"/login"},{default:t(()=>[d("Sign in")]),_:1})]),_:1})]),_:1})}}});const ne=M(X,[["__scopeId","data-v-17bb1a7c"]]);export{ne as default};

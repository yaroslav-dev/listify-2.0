import{u as N,a as w,T as m,_ as x}from"./persist.f3498cf8.js";import{aq as k,aN as C,N as p,aa as I,bw as U,bx as g,bn as R,aW as B,aY as L,aO as T,as as A,at as t,aU as z,by as c,ar as P,c as a,az as _,au as u,b3 as W,bz as F,bA as G,bB as O,bC as H,bD as J,ax as h,aC as M}from"./index.3c341dac.js";import{V as q}from"./VContainer.659e731c.js";import{V as D}from"./VForm.df0a5106.js";import"./VTextField.ec1d068f.js";import"./easing.6e2d7abd.js";import"./form.c6657762.js";import"./forwardRefs.2d67e586.js";const f=n=>(H("data-v-06539d8a"),n=n(),J(),n),E=f(()=>h("h3",{class:"form-head mb-3"},"Sign in",-1)),Y=f(()=>h("span",{class:"my-2"},"or",-1)),j=k({__name:"Login",setup(n){const v=C(),V=N(),b=w(),d=z(),l=p(""),r=p(""),S=async()=>{const o=new g;F(c,o)};I(()=>{U(c).then(o=>{console.log("result start");const s=g.credentialFromResult(o);s==null||s.accessToken;const e=o.user;R(B(L,"users",e.uid),{name:e.displayName,email:e.email,photo:e.photoURL}),console.log("set doc"),V.setUser({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),console.log("set user"),localStorage.currentUser=JSON.stringify({id:e.uid,name:e.displayName,email:e.email,photo:e.photoURL}),console.log("set localstorage"),b.setPersist(e),console.log("persist"),localStorage.userAuth=JSON.stringify(e)}).then(()=>{d.push({name:"Home"})}).catch(o=>{console.log(o.message)})});const y=()=>{G(c,l.value,r.value).then(o=>{console.log("Signed in with email"),console.log("data: ",o),d.push({name:"Home"})})};return T(()=>{v.hideNavBar(!0)}),(o,s)=>{const e=O("router-link");return P(),A(q,{class:"container"},{default:t(()=>[a(D,{class:"form"},{default:t(()=>[E,a(m,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i),inputType:"email"},null,8,["modelValue"]),a(m,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value=i),inputType:"password"},null,8,["modelValue"]),a(_,{size:"large",variant:"flat",color:"primary",block:"",onClick:y},{default:t(()=>[u(" Sign in ")]),_:1}),Y,a(_,{size:"large",variant:"outlined",block:"",onClick:S},{default:t(()=>[a(W,{src:x,width:"23",height:"23",class:"mr-3"}),u(" Sign in with Google ")]),_:1}),a(e,{class:"mt-3 text-decoration-none",to:"/signup"},{default:t(()=>[u("Create account")]),_:1})]),_:1})]),_:1})}}});const ae=M(j,[["__scopeId","data-v-06539d8a"]]);export{ae as default};
